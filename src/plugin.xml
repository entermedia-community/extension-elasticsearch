<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>
    <bean id="elasticXmlFileSearcher" class="org.entermedia.elasticsearch.ElasticXmlFileSearcher" singleton="false">
		<property name="pageManager"><ref bean="pageManager" /></property>
		<property name="xmlArchive"><ref bean="xmlArchive" /></property>
		<property name="moduleManager"><ref bean="moduleManager" /></property>
		<property name="clientPool"><ref bean="clientPool" /></property>
	</bean>

	<bean id="clientPool" class="org.entermedia.elasticsearch.ClientPool" >
	</bean>

	<!--  Use beans.xml to enable this one -->
	<bean id="elasticAssetSearcher" class="org.openedit.entermedia.search.BaseAssetSearcher"
		singleton="false">
		<property name="dataConnector">
			<ref bean="elasticAssetDataConnector" />
		</property>
		<property name="webEventListener">
			<ref bean="mediaEventHandler" />
		</property>
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
	</bean> 

    <bean id="elasticAssetDataConnector" class="org.entermedia.connectors.elastic.ElasticAssetDataConnector"
		singleton="false">
		<property name="pageManager"><ref bean="pageManager" /></property>
		<property name="xmlArchive"><ref bean="xmlArchive" /></property>
		<property name="moduleManager"><ref bean="moduleManager" /></property>
		<property name="clientPool"><ref bean="clientPool" /></property>
		<property name="assetSecurityArchive">
			<ref bean="assetSecurityArchive" />
		</property>
		<property name="dataFileName"><value>data.xml</value></property>
	</bean>
	
	<bean id="elasticUserSearcher" class="org.entermedia.elasticsearch.ElasticUserSearcher">
		<property name="clientPool"><ref bean="clientPool" /></property>
		<property name="userManager">
			<ref bean="userManager" />
		</property>
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
	</bean>
	<bean id="elasticGroupSearcher" class="org.openedit.users.LuceneGroupSearcher">
		<property name="userManager">
			<ref bean="userManager" />
		</property>
	</bean>

</beans>
